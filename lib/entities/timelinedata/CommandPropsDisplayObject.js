var __extends = this.__extends || function (d, b) {
    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
    function __() { this.constructor = d; }
    __.prototype = b.prototype;
    d.prototype = new __();
};
var CommandPropsBase = require("awayjs-display/lib/entities/timelinedata/CommandPropsBase");
var CommandPropsDisplayObject = (function (_super) {
    __extends(CommandPropsDisplayObject, _super);
    function CommandPropsDisplayObject() {
        _super.call(this);
        this._doDisplaymatrix = 0;
        this._doColorTransform = 0;
        this._doInstanceName = false;
        this._doDepth = false;
        this._doFilters = false;
        this._doDepthClip = false;
        this._doBlendMode = false;
    }
    CommandPropsDisplayObject.prototype.setBlendMode = function (blendMode) {
        this._blendMode = blendMode;
        this._doBlendMode = true;
    };
    CommandPropsDisplayObject.prototype.setClipDepth = function (clipDepth) {
        this._depthClip = clipDepth;
        this._doDepthClip = true;
    };
    //todo:handle filters
    CommandPropsDisplayObject.prototype.setFilter = function (filter) {
        this._filter = filter;
        this._doFilters = true;
    };
    CommandPropsDisplayObject.prototype.setDepth = function (depth) {
        this._depth = depth;
        this._doDepth = true;
    };
    CommandPropsDisplayObject.prototype.setDisplaymatrixInterpolate = function (interpolate) {
        this._displayMatrixInterpolate = interpolate;
        this._doDisplaymatrix = 2;
    };
    CommandPropsDisplayObject.prototype.setDisplaymatrix = function (displayMatrix) {
        this._displayMatrix = displayMatrix;
        this._doDisplaymatrix = 1;
    };
    CommandPropsDisplayObject.prototype.setColorTransform = function (colorTransform) {
        this._colorTransform = colorTransform;
        this._doColorTransform = 1;
    };
    CommandPropsDisplayObject.prototype.setColorTranformInterpolate = function (interpolate) {
        this._colorTransformInterpolate = interpolate;
        this._doColorTransform = 2;
    };
    CommandPropsDisplayObject.prototype.setInstancename = function (instanceName) {
        this._instanceName = instanceName;
        this._doInstanceName = true;
    };
    CommandPropsDisplayObject.prototype.deactivate = function (thisObj) {
        thisObj.visible = false;
    };
    CommandPropsDisplayObject.prototype.apply = function (thisObj, time, speed) {
        thisObj.visible = true;
        if (this._doDisplaymatrix == 1) {
            thisObj.transform.matrix3D = this._displayMatrix;
        }
        else if (this._doDisplaymatrix == 2) {
        }
        //todo: check how to apply colortransform (i guess this will be materials of meshes)
        //maybe we must give displayobjectcontainer the functions to pass ColorTransform to children
        if (this._doColorTransform == 1) {
        }
        else if (this._doColorTransform == 2) {
        }
        if (this._doInstanceName) {
            thisObj.name = this._instanceName;
        }
        if (this._doDepth) {
        }
        if (this._doBlendMode) {
        }
        if (this._doDepthClip) {
        }
        if (this._doFilters) {
        }
    };
    return CommandPropsDisplayObject;
})(CommandPropsBase);
module.exports = CommandPropsDisplayObject;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF3YXlqcy1kaXNwbGF5L2xpYi9lbnRpdGllcy90aW1lbGluZWRhdGEvQ29tbWFuZFByb3BzRGlzcGxheU9iamVjdC50cyJdLCJuYW1lcyI6WyJDb21tYW5kUHJvcHNEaXNwbGF5T2JqZWN0IiwiQ29tbWFuZFByb3BzRGlzcGxheU9iamVjdC5jb25zdHJ1Y3RvciIsIkNvbW1hbmRQcm9wc0Rpc3BsYXlPYmplY3Quc2V0QmxlbmRNb2RlIiwiQ29tbWFuZFByb3BzRGlzcGxheU9iamVjdC5zZXRDbGlwRGVwdGgiLCJDb21tYW5kUHJvcHNEaXNwbGF5T2JqZWN0LnNldEZpbHRlciIsIkNvbW1hbmRQcm9wc0Rpc3BsYXlPYmplY3Quc2V0RGVwdGgiLCJDb21tYW5kUHJvcHNEaXNwbGF5T2JqZWN0LnNldERpc3BsYXltYXRyaXhJbnRlcnBvbGF0ZSIsIkNvbW1hbmRQcm9wc0Rpc3BsYXlPYmplY3Quc2V0RGlzcGxheW1hdHJpeCIsIkNvbW1hbmRQcm9wc0Rpc3BsYXlPYmplY3Quc2V0Q29sb3JUcmFuc2Zvcm0iLCJDb21tYW5kUHJvcHNEaXNwbGF5T2JqZWN0LnNldENvbG9yVHJhbmZvcm1JbnRlcnBvbGF0ZSIsIkNvbW1hbmRQcm9wc0Rpc3BsYXlPYmplY3Quc2V0SW5zdGFuY2VuYW1lIiwiQ29tbWFuZFByb3BzRGlzcGxheU9iamVjdC5kZWFjdGl2YXRlIiwiQ29tbWFuZFByb3BzRGlzcGxheU9iamVjdC5hcHBseSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBSUEsSUFBTyxnQkFBZ0IsV0FBVywyREFBMkQsQ0FBQyxDQUFDO0FBRy9GLElBQU0seUJBQXlCO0lBQVNBLFVBQWxDQSx5QkFBeUJBLFVBQXlCQTtJQTRCcERBLFNBNUJFQSx5QkFBeUJBO1FBOEJ2QkMsaUJBQU9BLENBQUNBO1FBQ1JBLElBQUlBLENBQUNBLGdCQUFnQkEsR0FBQ0EsQ0FBQ0EsQ0FBQ0E7UUFDeEJBLElBQUlBLENBQUNBLGlCQUFpQkEsR0FBQ0EsQ0FBQ0EsQ0FBQ0E7UUFFekJBLElBQUlB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QSxFQUFFQSxDQUFBQSxDQUFDQSxJQUFJQSxDQUFDQSxnQkFBZ0JBLElBQUVBLENBQUNBLENBQUNBLENBQUFBLENBQUNBO1FBR2xDQSxDQUFDQTtRQUNEQSxBQUVBQSxvRkFGb0ZBO1FBQ3BGQSw0RkFBNEZBO1FBQzVGQSxFQUFFQSxDQUFBQSxDQUFDQSxJQUFJQSxDQUFDQSxpQkFBaUJBLElBQUVBLENBQUNBLENBQUNBLENBQUFBLENBQUNBO1FBRTlCQSxDQUFDQTtRQUNEQSxJQUFJQSxDQUFDQSxFQUFFQSxDQUFBQSxDQUFDQSxJQUFJQSxDQUFDQSxpQkFBaUJBLElBQUVBLENBQUNBLENBQUNBLENBQUFBLENBQUNBO1FBRW5DQSxDQUFDQTtRQUNEQSxFQUFFQSxDQUFBQSxDQUFDQSxJQUFJQSxDQUFDQSxlQUFlQSxDQUFDQSxDQUFBQSxDQUFDQTtZQUNyQkEsT0FBT0EsQ0FBQ0EsSUFBSUEsR0FBQ0EsSUFBSUEsQ0FBQ0EsYUFBYUEsQ0FBQ0E7UUFDcENBLENBQUNBO1FBQ0RBLEVBQUVBLENBQUFBLENBQUNBLElBQUlBLENBQUNBLFFBQVFBLENBQUNBLENBQUFBLENBQUNBO1FBRWxCQSxDQUFDQTtRQUNEQSxFQUFFQSxDQUFBQSxDQUFDQSxJQUFJQSxDQUFDQSxZQUFZQSxDQUFDQSxDQUFBQSxDQUFDQTtRQUV0QkEsQ0FBQ0E7UUFDREEsRUFBRUEsQ0FBQUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsWUFBWUEsQ0FBQ0EsQ0FBQUEsQ0FBQ0E7UUFFdEJBLENBQUNBO1FBQ0RBLEVBQUVBLENBQUFBLENBQUNBLElBQUlBLENBQUNBLFVBQVVBLENBQUNBLENBQUFBLENBQUNBO1FBRXBCQSxDQUFDQTtJQUNMQSxDQUFDQTtJQUNMWixnQ0FBQ0E7QUFBREEsQ0FySEEsQUFxSENBLEVBckh1QyxnQkFBZ0IsRUFxSHZEO0FBRUQsQUFBbUMsaUJBQTFCLHlCQUF5QixDQUFDIiwiZmlsZSI6ImVudGl0aWVzL3RpbWVsaW5lZGF0YS9Db21tYW5kUHJvcHNEaXNwbGF5T2JqZWN0LmpzIiwic291cmNlUm9vdCI6Ii4uLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBNYXRyaXgzRCA9IHJlcXVpcmUoXCJhd2F5anMtY29yZS9saWIvZ2VvbS9NYXRyaXgzRFwiKTtcclxuaW1wb3J0IENvbG9yVHJhbnNmb3JtID0gcmVxdWlyZShcImF3YXlqcy1jb3JlL2xpYi9nZW9tL0NvbG9yVHJhbnNmb3JtXCIpO1xyXG5cclxuaW1wb3J0IERpc3BsYXlPYmplY3RDb250YWluZXJcdFx0PSByZXF1aXJlKFwiYXdheWpzLWRpc3BsYXkvbGliL2NvbnRhaW5lcnMvRGlzcGxheU9iamVjdENvbnRhaW5lclwiKTtcclxuaW1wb3J0IENvbW1hbmRQcm9wc0Jhc2UgPSByZXF1aXJlKFwiYXdheWpzLWRpc3BsYXkvbGliL2VudGl0aWVzL3RpbWVsaW5lZGF0YS9Db21tYW5kUHJvcHNCYXNlXCIpO1xyXG5pbXBvcnQgSW50ZXJwb2xhdGlvbk9iamVjdCA9IHJlcXVpcmUoXCJhd2F5anMtZGlzcGxheS9saWIvZW50aXRpZXMvdGltZWxpbmVkYXRhL0ludGVycG9sYXRpb25PYmplY3RcIik7XHJcblxyXG5jbGFzcyBDb21tYW5kUHJvcHNEaXNwbGF5T2JqZWN0IGV4dGVuZHMgQ29tbWFuZFByb3BzQmFzZVxyXG57XHJcbiAgICBwcml2YXRlIF9kb0Rpc3BsYXltYXRyaXg6bnVtYmVyOy8vMDpkb05vdGhpbmcsIDE6YWJzb2x1dGUsMjppbnRlcnBvbGF0ZVxyXG4gICAgLy8gaWYgX2RvRGlzcGxheW1hdHJpeCBpcyAxOmFic29sdXRlLCB3ZSBuZWVkIGFjY2VzcyB0byB0aGUgTWF0cml4M0RcclxuICAgIC8vIGlmIF9kb0Rpc3BsYXltYXRyaXggaXMgMjppbnRlcnBvbGF0ZSwgd2UgbmVlZCBhY2Nlc3MgdG8gYSBcImludGVycG9sYXRpb25cIi1PYmplY3Qga25vdyB0aGUgbWF0cml4IHRvIHNldFxyXG4gICAgcHJpdmF0ZSBfZGlzcGxheU1hdHJpeDpNYXRyaXgzRDsvL2ZvciAyRCBvYmplY3RzIHdlIGFsc28gdXNlIDNkLW1hdHJpeCBmb3Igbm93Li4ud2UgaGF2ZSBubyAyZCBvYmplY3RzIDopXHJcbiAgICBwcml2YXRlIF9kaXNwbGF5TWF0cml4SW50ZXJwb2xhdGU6SW50ZXJwb2xhdGlvbk9iamVjdDtcclxuXHJcbiAgICBwcml2YXRlIF9kb0NvbG9yVHJhbnNmb3JtOm51bWJlcjsvLzA6ZG9Ob3RoaW5nLCAxOmFic29sdXRlLDI6aW50ZXJwb2xhdGVcclxuICAgIC8vIGlmIF9kb0NvbG9yVHJhbnNmb3JtIGlzIDE6YWJzb2x1dGUsIHdlIG5lZWQgYWNjZXNzIHRvIHRoZSBDb2xvclRyYW5zZm9ybVxyXG4gICAgLy8gaWYgX2RvQ29sb3JUcmFuc2Zvcm0gaXMgMjppbnRlcnBvbGF0ZSwgd2UgbmVlZCBhY2Nlc3MgdG8gYSBcImludGVycG9sYXRpb25cIi1PYmplY3Qga25vdyB0aGUgbWF0cml4IHRvIHNldFxyXG4gICAgcHJpdmF0ZSBfY29sb3JUcmFuc2Zvcm06Q29sb3JUcmFuc2Zvcm07XHJcbiAgICBwcml2YXRlIF9jb2xvclRyYW5zZm9ybUludGVycG9sYXRlOkludGVycG9sYXRpb25PYmplY3Q7XHJcblxyXG4gICAgcHJpdmF0ZSBfZG9EZXB0aDpib29sZWFuO1xyXG4gICAgcHJpdmF0ZSBfZGVwdGg6bnVtYmVyOy8vIHRvZG86IGhvdyB0byBoYW5kbGUgZGVwdGggYmVzdFxyXG5cclxuICAgIHByaXZhdGUgX2RvRmlsdGVyczpib29sZWFuO1xyXG4gICAgcHJpdmF0ZSBfZmlsdGVyOm51bWJlcjsvL3RvZG86IGhvdyB0byBoYW5kbGUgZmlsdGVyXHJcblxyXG4gICAgcHJpdmF0ZSBfZG9CbGVuZE1vZGU6Ym9vbGVhbjtcclxuICAgIHByaXZhdGUgX2JsZW5kTW9kZTpudW1iZXI7XHJcblxyXG4gICAgcHJpdmF0ZSBfZG9EZXB0aENsaXA6Ym9vbGVhbjtcclxuICAgIHByaXZhdGUgX2RlcHRoQ2xpcDpudW1iZXI7XHJcblxyXG4gICAgcHJpdmF0ZSBfZG9JbnN0YW5jZU5hbWU6Ym9vbGVhbjtcclxuICAgIHByaXZhdGUgX2luc3RhbmNlTmFtZTpzdHJpbmc7XHJcbiAgICBjb25zdHJ1Y3RvcigpXHJcbiAgICB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICB0aGlzLl9kb0Rpc3BsYXltYXRyaXg9MDtcclxuICAgICAgICB0aGlzLl9kb0NvbG9yVHJhbnNmb3JtPTA7XHJcblxyXG4gICAgICAgIHRoaXMuX2RvSW5zdGFuY2VOYW1lPWZhbHNlO1xyXG4gICAgICAgIHRoaXMuX2RvRGVwdGg9ZmFsc2U7XHJcbiAgICAgICAgdGhpcy5fZG9GaWx0ZXJzPWZhbHNlO1xyXG4gICAgICAgIHRoaXMuX2RvRGVwdGhDbGlwPWZhbHNlO1xyXG4gICAgICAgIHRoaXMuX2RvQmxlbmRNb2RlPWZhbHNlO1xyXG4gICAgfVxyXG4gICAgcHVibGljIHNldEJsZW5kTW9kZSggYmxlbmRNb2RlOm51bWJlcikge1xyXG4gICAgICAgIHRoaXMuX2JsZW5kTW9kZSA9IGJsZW5kTW9kZTtcclxuICAgICAgICB0aGlzLl9kb0JsZW5kTW9kZSA9IHRydWU7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgc2V0Q2xpcERlcHRoKCBjbGlwRGVwdGg6bnVtYmVyKSB7XHJcbiAgICAgICAgdGhpcy5fZGVwdGhDbGlwID0gY2xpcERlcHRoO1xyXG4gICAgICAgIHRoaXMuX2RvRGVwdGhDbGlwID0gdHJ1ZTtcclxuICAgIH1cclxuICAgIC8vdG9kbzpoYW5kbGUgZmlsdGVyc1xyXG4gICAgcHVibGljIHNldEZpbHRlciggZmlsdGVyKSB7XHJcbiAgICAgICAgdGhpcy5fZmlsdGVyID0gZmlsdGVyO1xyXG4gICAgICAgIHRoaXMuX2RvRmlsdGVycyA9IHRydWU7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgc2V0RGVwdGgoIGRlcHRoOm51bWJlcikge1xyXG4gICAgICAgIHRoaXMuX2RlcHRoID0gZGVwdGg7XHJcbiAgICAgICAgdGhpcy5fZG9EZXB0aCA9IHRydWU7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgc2V0RGlzcGxheW1hdHJpeEludGVycG9sYXRlKCBpbnRlcnBvbGF0ZTpJbnRlcnBvbGF0aW9uT2JqZWN0KSB7XHJcbiAgICAgICAgdGhpcy5fZGlzcGxheU1hdHJpeEludGVycG9sYXRlID0gaW50ZXJwb2xhdGU7XHJcbiAgICAgICAgdGhpcy5fZG9EaXNwbGF5bWF0cml4ID0gMjtcclxuICAgIH1cclxuICAgIHB1YmxpYyBzZXREaXNwbGF5bWF0cml4KGRpc3BsYXlNYXRyaXg6TWF0cml4M0QpIHtcclxuICAgICAgICB0aGlzLl9kaXNwbGF5TWF0cml4ID0gZGlzcGxheU1hdHJpeDtcclxuICAgICAgICB0aGlzLl9kb0Rpc3BsYXltYXRyaXggPSAxO1xyXG4gICAgfVxyXG4gICAgcHVibGljIHNldENvbG9yVHJhbnNmb3JtKGNvbG9yVHJhbnNmb3JtOkNvbG9yVHJhbnNmb3JtKSB7XHJcbiAgICAgICAgdGhpcy5fY29sb3JUcmFuc2Zvcm0gPSBjb2xvclRyYW5zZm9ybTtcclxuICAgICAgICB0aGlzLl9kb0NvbG9yVHJhbnNmb3JtID0gMTtcclxuICAgIH1cclxuICAgIHB1YmxpYyBzZXRDb2xvclRyYW5mb3JtSW50ZXJwb2xhdGUoIGludGVycG9sYXRlOkludGVycG9sYXRpb25PYmplY3QpIHtcclxuICAgICAgICB0aGlzLl9jb2xvclRyYW5zZm9ybUludGVycG9sYXRlID0gaW50ZXJwb2xhdGU7XHJcbiAgICAgICAgdGhpcy5fZG9Db2xvclRyYW5zZm9ybSA9IDI7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgc2V0SW5zdGFuY2VuYW1lKGluc3RhbmNlTmFtZTpzdHJpbmcpe1xyXG4gICAgICAgIHRoaXMuX2luc3RhbmNlTmFtZT1pbnN0YW5jZU5hbWU7XHJcbiAgICAgICAgdGhpcy5fZG9JbnN0YW5jZU5hbWU9dHJ1ZTtcclxuICAgIH1cclxuICAgIHB1YmxpYyBkZWFjdGl2YXRlKHRoaXNPYmo6RGlzcGxheU9iamVjdENvbnRhaW5lcik6dm9pZFxyXG4gICAge1xyXG4gICAgICAgIHRoaXNPYmoudmlzaWJsZT1mYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYXBwbHkodGhpc09iajpEaXNwbGF5T2JqZWN0Q29udGFpbmVyLCB0aW1lOm51bWJlciwgc3BlZWQ6bnVtYmVyKTp2b2lkXHJcbiAgICB7XHJcbiAgICAgICAgdGhpc09iai52aXNpYmxlPXRydWU7XHJcblxyXG4gICAgICAgIGlmKHRoaXMuX2RvRGlzcGxheW1hdHJpeD09MSl7XHJcbiAgICAgICAgICAgIHRoaXNPYmoudHJhbnNmb3JtLm1hdHJpeDNEPXRoaXMuX2Rpc3BsYXlNYXRyaXg7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYodGhpcy5fZG9EaXNwbGF5bWF0cml4PT0yKXtcclxuICAgICAgICAgICAgLy8gVE9ET1xyXG4gICAgICAgICAgICAvL3RoaXNPYmoudHJhbnNmb3JtLm1hdHJpeDNEPXRoaXMuX2Rpc3BsYXlNYXRyaXhJbnRlcnBvbGF0ZS5nZXRTdGF0ZSh0aW1lLCBzcGVlZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vdG9kbzogY2hlY2sgaG93IHRvIGFwcGx5IGNvbG9ydHJhbnNmb3JtIChpIGd1ZXNzIHRoaXMgd2lsbCBiZSBtYXRlcmlhbHMgb2YgbWVzaGVzKVxyXG4gICAgICAgIC8vbWF5YmUgd2UgbXVzdCBnaXZlIGRpc3BsYXlvYmplY3Rjb250YWluZXIgdGhlIGZ1bmN0aW9ucyB0byBwYXNzIENvbG9yVHJhbnNmb3JtIHRvIGNoaWxkcmVuXHJcbiAgICAgICAgaWYodGhpcy5fZG9Db2xvclRyYW5zZm9ybT09MSl7XHJcbiAgICAgICAgICAgIC8vdGhpc09iai49dGhpcy5fY29sb3JUcmFuc2Zvcm07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYodGhpcy5fZG9Db2xvclRyYW5zZm9ybT09Mil7XHJcbiAgICAgICAgICAgIC8vdGhpc09iai50cmFuc2Zvcm0ubWF0cml4M0Q9dGhpcy5fY29sb3JUcmFuc2Zvcm1JbnRlcnBvbGF0ZS5nZXRTdGF0ZSh0aW1lLCBzcGVlZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKHRoaXMuX2RvSW5zdGFuY2VOYW1lKXtcclxuICAgICAgICAgICAgdGhpc09iai5uYW1lPXRoaXMuX2luc3RhbmNlTmFtZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYodGhpcy5fZG9EZXB0aCl7XHJcbiAgICAgICAgICAgIC8vIHRvZG86IGhhbmRsZSBkZXB0aCBzZXR0aW5nXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKHRoaXMuX2RvQmxlbmRNb2RlKXtcclxuICAgICAgICAgICAgLy8gdG9kbzogaGFuZGxlIGJsZW5kTW9kZSBzZXR0aW5nXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKHRoaXMuX2RvRGVwdGhDbGlwKXtcclxuICAgICAgICAgICAgLy8gdG9kbzogaGFuZGxlIGRlcHRoQ2xpcCBzZXR0aW5nXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKHRoaXMuX2RvRmlsdGVycyl7XHJcbiAgICAgICAgICAgIC8vIHRvZG86IGhhbmRsZSBmaWx0ZXIgc2V0dGluZ1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0ID0gQ29tbWFuZFByb3BzRGlzcGxheU9iamVjdDtcclxuIl19