var __extends = this.__extends || function (d, b) {
    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
    function __() { this.constructor = d; }
    __.prototype = b.prototype;
    d.prototype = new __();
};
var Matrix3D = require("awayjs-core/lib/geom/Matrix3D");
var Vector3D = require("awayjs-core/lib/geom/Vector3D");
var LightBase = require("awayjs-display/lib/base/LightBase");
var BoundsType = require("awayjs-display/lib/bounds/BoundsType");
var DirectionalShadowMapper = require("awayjs-display/lib/materials/shadowmappers/DirectionalShadowMapper");
var DirectionalLight = (function (_super) {
    __extends(DirectionalLight, _super);
    function DirectionalLight(xDir, yDir, zDir) {
        if (xDir === void 0) { xDir = 0; }
        if (yDir === void 0) { yDir = -1; }
        if (zDir === void 0) { zDir = 1; }
        _super.call(this);
        this._pAabbPoints = new Array(24);
        this._pIsEntity = true;
        this.direction = new Vector3D(xDir, yDir, zDir);
        this._sceneDirection = new Vector3D();
        //default bounds type
        this._boundsType = BoundsType.NULL;
    }
    Object.defineProperty(DirectionalLight.prototype, "sceneDirection", {
        get: function () {
            if (this._pSceneTransformDirty)
                this.pUpdateSceneTransform();
            return this._sceneDirection;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(DirectionalLight.prototype, "direction", {
        get: function () {
            return this._direction;
        },
        set: function (value) {
            this._direction = value;
            if (!this._tmpLookAt)
                this._tmpLookAt = new Vector3D();
            this._tmpLookAt.x = this.x + this._direction.x;
            this._tmpLookAt.y = this.y + this._direction.y;
            this._tmpLookAt.z = this.z + this._direction.z;
            this.lookAt(this._tmpLookAt);
        },
        enumerable: true,
        configurable: true
    });
    //@override
    DirectionalLight.prototype.pUpdateSceneTransform = function () {
        _super.prototype.pUpdateSceneTransform.call(this);
        this.sceneTransform.copyColumnTo(2, this._sceneDirection);
        this._sceneDirection.normalize();
    };
    //@override
    DirectionalLight.prototype.pCreateShadowMapper = function () {
        return new DirectionalShadowMapper();
    };
    //override
    DirectionalLight.prototype.iGetObjectProjectionMatrix = function (entity, camera, target) {
        if (target === void 0) { target = null; }
        var raw = new Array();
        var m = new Matrix3D();
        m.copyFrom(entity.getRenderSceneTransform(camera));
        m.append(this.inverseSceneTransform);
        if (!this._projAABBPoints)
            this._projAABBPoints = [];
        m.transformVectors(this._pAabbPoints, this._projAABBPoints);
        var xMin = Infinity, xMax = -Infinity;
        var yMin = Infinity, yMax = -Infinity;
        var zMin = Infinity, zMax = -Infinity;
        var d;
        for (var i = 0; i < 24;) {
            d = this._projAABBPoints[i++];
            if (d < xMin)
                xMin = d;
            if (d > xMax)
                xMax = d;
            d = this._projAABBPoints[i++];
            if (d < yMin)
                yMin = d;
            if (d > yMax)
                yMax = d;
            d = this._projAABBPoints[i++];
            if (d < zMin)
                zMin = d;
            if (d > zMax)
                zMax = d;
        }
        var invXRange = 1 / (xMax - xMin);
        var invYRange = 1 / (yMax - yMin);
        var invZRange = 1 / (zMax - zMin);
        raw[0] = 2 * invXRange;
        raw[5] = 2 * invYRange;
        raw[10] = invZRange;
        raw[12] = -(xMax + xMin) * invXRange;
        raw[13] = -(yMax + yMin) * invYRange;
        raw[14] = -zMin * invZRange;
        raw[1] = raw[2] = raw[3] = raw[4] = raw[6] = raw[7] = raw[8] = raw[9] = raw[11] = 0;
        raw[15] = 1;
        if (!target)
            target = new Matrix3D();
        target.copyRawDataFrom(raw);
        target.prepend(m);
        return target;
    };
    DirectionalLight.prototype._iCollectRenderables = function (rendererPool) {
        //nothing to do here
    };
    DirectionalLight.prototype._pRegisterEntity = function (partition) {
        partition._iRegisterDirectionalLight(this);
    };
    DirectionalLight.prototype._pUnregisterEntity = function (partition) {
        partition._iUnregisterDirectionalLight(this);
    };
    /**
     * //TODO
     *
     * @protected
     */
    DirectionalLight.prototype._pUpdateBoxBounds = function () {
        _super.prototype._pUpdateBoxBounds.call(this);
        //update points
        var minX = this._pBoxBounds.x;
        var minY = this._pBoxBounds.y - this._pBoxBounds.height;
        var minZ = this._pBoxBounds.z;
        var maxX = this._pBoxBounds.x + this._pBoxBounds.width;
        var maxY = this._pBoxBounds.y;
        var maxZ = this._pBoxBounds.z + this._pBoxBounds.depth;
        this._pAabbPoints[0] = minX;
        this._pAabbPoints[1] = minY;
        this._pAabbPoints[2] = minZ;
        this._pAabbPoints[3] = maxX;
        this._pAabbPoints[4] = minY;
        this._pAabbPoints[5] = minZ;
        this._pAabbPoints[6] = minX;
        this._pAabbPoints[7] = maxY;
        this._pAabbPoints[8] = minZ;
        this._pAabbPoints[9] = maxX;
        this._pAabbPoints[10] = maxY;
        this._pAabbPoints[11] = minZ;
        this._pAabbPoints[12] = minX;
        this._pAabbPoints[13] = minY;
        this._pAabbPoints[14] = maxZ;
        this._pAabbPoints[15] = maxX;
        this._pAabbPoints[16] = minY;
        this._pAabbPoints[17] = maxZ;
        this._pAabbPoints[18] = minX;
        this._pAabbPoints[19] = maxY;
        this._pAabbPoints[20] = maxZ;
        this._pAabbPoints[21] = maxX;
        this._pAabbPoints[22] = maxY;
        this._pAabbPoints[23] = maxZ;
    };
    return DirectionalLight;
})(LightBase);
module.exports = DirectionalLight;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF3YXlqcy1kaXNwbGF5L2xpYi9lbnRpdGllcy9EaXJlY3Rpb25hbExpZ2h0LnRzIl0sIm5hbWVzIjpbIkRpcmVjdGlvbmFsTGlnaHQiLCJEaXJlY3Rpb25hbExpZ2h0LmNvbnN0cnVjdG9yIiwiRGlyZWN0aW9uYWxMaWdodC5zY2VuZURpcmVjdGlvbiIsIkRpcmVjdGlvbmFsTGlnaHQuZGlyZWN0aW9uIiwiRGlyZWN0aW9uYWxMaWdodC5wVXBkYXRlU2NlbmVUcmFuc2Zvcm0iLCJEaXJlY3Rpb25hbExpZ2h0LnBDcmVhdGVTaGFkb3dNYXBwZXIiLCJEaXJlY3Rpb25hbExpZ2h0LmlHZXRPYmplY3RQcm9qZWN0aW9uTWF0cml4IiwiRGlyZWN0aW9uYWxMaWdodC5faUNvbGxlY3RSZW5kZXJhYmxlcyIsIkRpcmVjdGlvbmFsTGlnaHQuX3BSZWdpc3RlckVudGl0eSIsIkRpcmVjdGlvbmFsTGlnaHQuX3BVbnJlZ2lzdGVyRW50aXR5IiwiRGlyZWN0aW9uYWxMaWdodC5fcFVwZGF0ZUJveEJvdW5kcyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBTyxRQUFRLFdBQWdCLCtCQUErQixDQUFDLENBQUM7QUFDaEUsSUFBTyxRQUFRLFdBQWdCLCtCQUErQixDQUFDLENBQUM7QUFFaEUsSUFBTyxTQUFTLFdBQWUsbUNBQW1DLENBQUMsQ0FBQztBQUNwRSxJQUFPLFVBQVUsV0FBZSxzQ0FBc0MsQ0FBQyxDQUFDO0FBT3hFLElBQU8sdUJBQXVCLFdBQVksb0VBQW9FLENBQUMsQ0FBQztBQUVoSCxJQUFNLGdCQUFnQjtJQUFTQSxVQUF6QkEsZ0JBQWdCQSxVQUFrQkE7SUFRdkNBLFNBUktBLGdCQUFnQkEsQ0FRVEEsSUFBZUEsRUFBRUEsSUFBZ0JBLEVBQUVBLElBQWVBO1FBQWxEQyxvQkFBZUEsR0FBZkEsUUFBZUE7UUFBRUEsb0JBQWdCQSxHQUFoQkEsUUFBZUEsQ0FBQ0E7UUFBRUEsb0JBQWVBLEdBQWZBLFFBQWVBO1FBRTdEQSxpQkFBT0EsQ0FBQ0E7UUFMREEsaUJBQVlBLEdBQWlCQSxJQUFJQSxLQUFLQSxDQUFTQSxFQUFFQSxDQUFDQSxDQUFDQTtRQU8xREEsSUFBSUEsQ0FBQ0EsVUFBVUEsR0FBR0EsSUFBSUEsQ0FBQ0E7UUFFdkJBLElBQUlBLENBQUNBLFNBQVNBLEdBQUdBLElBQUlBLFFBQVFBLENBQUNBLElBQUlBLEVBQUVBLElBQUlBLEVBQUVBLElBQUlBLENBQUNBLENBQUNBO1FBRWhEQSxJQUFJQSxDQUFDQSxlQUFlQSxHQUFHQSxJQUFJQSxRQUFRQSxFQUFFQSxDQUFDQTtRQUV0Q0EsQUFDQUEscUJBRHFCQTtRQUNyQkEsSUFBSUEsQ0FBQ0EsV0FBV0EsR0FBR0EsVUFBVUEsQ0FBQ0EsSUFBSUEsQ0FBQ0E7SUFDcENBLENBQUNBO0lBRURELHNCQUFXQSw0Q0FBY0E7YUFBekJBO1lBRUNFLEVBQUVBLENBQUNBLENBQUNBLElBQUlBLENBQUNBLHFCQUFxQkEsQ0FBQ0E7Z0JBQzlCQSxJQUFJQSxDQUFDQSxxQkFBcUJBLEVBQUVBLENBQUNBO1lBRTlCQSxNQUFNQSxDQUFDQSxJQUFJQSxDQUFDQSxlQUFlQSxDQUFDQTtRQUM3QkEsQ0FBQ0E7OztPQUFBRjtJQUVEQSxzQkFBV0EsdUNBQVNBO2FBQXBCQTtZQUVDRyxNQUFNQSxDQUFDQSxJQUFJQSxDQUFDQSxVQUFVQSxDQUFDQTtRQUN4QkEsQ0FBQ0E7YUFFREgsVUFBcUJBLEtBQWNBO1lBRWxDRyxJQUFJQSxDQUFDQSxVQUFVQSxHQUFHQSxLQUFLQSxDQUFDQTtZQUV4QkEsRUFBRUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsSUFBSUEsQ0FBQ0EsVUFBVUEsQ0FBQ0E7Z0JBQ3BCQSxJQUFJQSxDQUFDQSxVQUFVQSxHQUFHQSxJQUFJQSxRQUFRQSxFQUFFQSxDQUFDQTtZQUVsQ0EsSUFBSUEsQ0FBQ0EsVUFBVUEsQ0FBQ0EsQ0FBQ0EsR0FBR0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsR0FBR0EsSUFBSUEsQ0FBQ0EsVUFBVUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7WUFDL0NBLElBQUlBLENBQUNBLFVBQVVBLENBQUNBLENBQUNBLEdBQUdBLElBQUlBLENBQUNBLENBQUNBLEdBQUdBLElBQUlBLENBQUNBLFVBQVVBLENBQUNBLENBQUNBLENBQUNBO1lBQy9DQSxJQUFJQSxDQUFDQSxVQUFVQSxDQUFDQSxDQUFDQSxHQUFHQSxJQUFJQSxDQUFDQSxDQUFDQSxHQUFHQSxJQUFJQSxDQUFDQSxVQUFVQSxDQUFDQSxDQUFDQSxDQUFDQTtZQUUvQ0EsSUFBSUEsQ0FBQ0EsTUFBTUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsVUFBVUEsQ0FBQ0EsQ0FBQ0E7UUFDOUJBLENBQUNBOzs7T0FkQUg7SUFnQkRBLFdBQVdBO0lBQ0pBLGdEQUFxQkEsR0FBNUJBO1FBRUNJLGdCQUFLQSxDQUFDQSxxQkFBcUJBLFdBQUVBLENBQUNBO1FBQzlCQSxJQUFJQSxDQUFDQSxjQUFjQSxDQUFDQSxZQUFZQSxDQUFDQSxDQUFDQSxFQUFFQSxJQUFJQSxDQUFDQSxlQUFlQSxDQUFDQSxDQUFDQTtRQUMxREEsSUFBSUEsQ0FBQ0EsZUFBZUEsQ0FBQ0EsU0FBU0EsRUFBRUEsQ0FBQ0E7SUFDbENBLENBQUNBO0lBRURKLFdBQVdBO0lBQ0pBLDhDQUFtQkEsR0FBMUJBO1FBRUNLLE1BQU1BLENBQUNBLElBQUlBLHVCQUF1QkEsRUFBRUEsQ0FBQ0E7SUFDdENBLENBQUNBO0lBRURMLFVBQVVBO0lBQ0hBLHFEQUEwQkEsR0FBakNBLFVBQWtDQSxNQUFjQSxFQUFFQSxNQUFhQSxFQUFFQSxNQUFzQkE7UUFBdEJNLHNCQUFzQkEsR0FBdEJBLGFBQXNCQTtRQUV0RkEsSUFBSUEsR0FBR0EsR0FBaUJBLElBQUlBLEtBQUtBLEVBQVVBLENBQUNBO1FBQzVDQSxJQUFJQSxDQUFDQSxHQUFZQSxJQUFJQSxRQUFRQSxFQUFFQSxDQUFDQTtRQUVoQ0EsQ0FBQ0EsQ0FBQ0EsUUFBUUEsQ0FBQ0EsTUFBTUEsQ0FBQ0EsdUJBQXVCQSxDQUFDQSxNQUFNQSxDQUFDQSxDQUFDQSxDQUFDQTtRQUNuREEsQ0FBQ0EsQ0FBQ0EsTUFBTUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EscUJBQXFCQSxDQUFDQSxDQUFDQTtRQUVyQ0EsRUFBRUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsSUFBSUEsQ0FBQ0EsZUFBZUEsQ0FBQ0E7WUFDekJBLElBQUlBLENBQUNBLGVBQWVBLEdBQUdBLEVBQUVBLENBQUNBO1FBRTNCQSxDQUFDQSxDQUFDQSxnQkFBZ0JBLENBQUNBLElBQUlBLENBQUNBLFlBQVlBLEVBQUVBLElBQUlBLENBQUNBLGVBQWVBLENBQUNBLENBQUNBO1FBRTVEQSxJQUFJQSxJQUFJQSxHQUFVQSxRQUFRQSxFQUFFQSxJQUFJQSxHQUFVQSxDQUFDQSxRQUFRQSxDQUFDQTtRQUNwREEsSUFBSUEsSUFBSUEsR0FBVUEsUUFBUUEsRUFBRUEsSUFBSUEsR0FBVUEsQ0FBQ0EsUUFBUUEsQ0FBQ0E7UUFDcERBLElBQUlBLElBQUlBLEdBQVVBLFFBQVFBLEVBQUVBLElBQUlBLEdBQVVBLENBQUNBLFFBQVFBLENBQUNBO1FBQ3BEQSxJQUFJQSxDQUFRQSxDQUFDQTtRQUNiQSxHQUFHQSxDQUFDQSxDQUFDQSxHQUFHQSxDQUFDQSxDQUFDQSxHQUFVQSxDQUFDQSxFQUFFQSxDQUFDQSxHQUFHQSxFQUFFQSxHQUFHQSxDQUFDQTtZQUNoQ0EsQ0FBQ0EsR0FBR0EsSUFBSUEsQ0FBQ0EsZUFBZUEsQ0FBQ0EsQ0FBQ0EsRUFBRUEsQ0FBQ0EsQ0FBQ0E7WUFFOUJBLEVBQUVBLENBQUNBLENBQUNBLENBQUNBLEdBQUdBLElBQUlBLENBQUNBO2dCQUNaQSxJQUFJQSxHQUFHQSxDQUFDQSxDQUFDQTtZQUVWQSxFQUFFQSxDQUFDQSxDQUFDQSxDQUFDQSxHQUFHQSxJQUFJQSxDQUFDQTtnQkFDWkEsSUFBSUEsR0FBR0EsQ0FBQ0EsQ0FBQ0E7WUFFVkEsQ0FBQ0EsR0FBR0EsSUFBSUEsQ0FBQ0EsZUFBZUEsQ0FBQ0EsQ0FBQ0EsRUFBRUEsQ0FBQ0EsQ0FBQ0E7WUFFOUJBLEVBQUVBLENBQUNBLENBQUNBLENBQUNBLEdBQUdBLElBQUlBLENBQUNBO2dCQUNaQSxJQUFJQSxHQUFHQSxDQUFDQSxDQUFDQTtZQUVWQSxFQUFFQSxDQUFDQSxDQUFDQSxDQUFDQSxHQUFHQSxJQUFJQSxDQUFDQTtnQkFDWkEsSUFBSUEsR0FBR0EsQ0FBQ0EsQ0FBQ0E7WUFFVkEsQ0FBQ0EsR0FBR0EsSUFBSUEsQ0FBQ0EsZUFBZUEsQ0FBQ0EsQ0FBQ0EsRUFBRUEsQ0FBQ0EsQ0FBQ0E7WUFFOUJBLEVBQUVBLENBQUNBLENBQUNBLENBQUNBLEdBQUdBLElBQUlBLENBQUNBO2dCQUNaQSxJQUFJQSxHQUFHQSxDQUFDQSxDQUFDQTtZQUVWQSxFQUFFQSxDQUFDQSxDQUFDQSxDQUFDQSxHQUFHQSxJQUFJQSxDQUFDQTtnQkFDWkEsSUFBSUEsR0FBR0EsQ0FBQ0EsQ0FBQ0E7UUFDWEEsQ0FBQ0E7UUFFREEsSUFBSUEsU0FBU0EsR0FBVUEsQ0FBQ0EsR0FBQ0EsQ0FBQ0EsSUFBSUEsR0FBR0EsSUFBSUEsQ0FBQ0EsQ0FBQ0E7UUFDdkNBLElBQUlBLFNBQVNBLEdBQVVBLENBQUNBLEdBQUNBLENBQUNBLElBQUlBLEdBQUdBLElBQUlBLENBQUNBLENBQUNBO1FBQ3ZDQSxJQUFJQSxTQUFTQSxHQUFVQSxDQUFDQSxHQUFDQSxDQUFDQSxJQUFJQSxHQUFHQSxJQUFJQSxDQUFDQSxDQUFDQTtRQUN2Q0EsR0FBR0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsR0FBR0EsQ0FBQ0EsR0FBQ0EsU0FBU0EsQ0FBQ0E7UUFDckJBLEdBQUdBLENBQUNBLENBQUNBLENBQUNBLEdBQUdBLENBQUNBLEdBQUNBLFNBQVNBLENBQUNBO1FBQ3JCQSxHQUFHQSxDQUFDQSxFQUFFQSxDQUFDQSxHQUFHQSxTQUFTQSxDQUFDQTtRQUNwQkEsR0FBR0EsQ0FBQ0EsRUFBRUEsQ0FBQ0EsR0FBR0EsQ0FBQ0EsQ0FBQ0EsSUFBSUEsR0FBR0EsSUFBSUEsQ0FBQ0EsR0FBQ0EsU0FBU0EsQ0FBQ0E7UUFDbkNBLEdBQUdBLENBQUNBLEVBQUVBLENBQUNBLEdBQUdBLENBQUNBLENBQUNBLElBQUlBLEdBQUdBLElBQUlBLENBQUNBLEdBQUNBLFNBQVNBLENBQUNBO1FBQ25DQSxHQUFHQSxDQUFDQSxFQUFFQSxDQUFDQSxHQUFHQSxDQUFDQSxJQUFJQSxHQUFDQSxTQUFTQSxDQUFDQTtRQUMxQkEsR0FBR0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsR0FBR0EsR0FBR0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsR0FBR0EsR0FBR0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsR0FBR0EsR0FBR0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsR0FBR0EsR0FBR0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsR0FBR0EsR0FBR0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsR0FBR0EsR0FBR0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsR0FBR0EsR0FBR0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsR0FBR0EsR0FBR0EsQ0FBQ0EsRUFBRUEsQ0FBQ0EsR0FBR0EsQ0FBQ0EsQ0FBQ0E7UUFDcEZBLEdBQUdBLENBQUNBLEVBQUVBLENBQUNBLEdBQUdBLENBQUNBLENBQUNBO1FBRVpBLEVBQUVBLENBQUNBLENBQUNBLENBQUNBLE1BQU1BLENBQUNBO1lBQ1hBLE1BQU1BLEdBQUdBLElBQUlBLFFBQVFBLEVBQUVBLENBQUNBO1FBRXpCQSxNQUFNQSxDQUFDQSxlQUFlQSxDQUFDQSxHQUFHQSxDQUFDQSxDQUFDQTtRQUM1QkEsTUFBTUEsQ0FBQ0EsT0FBT0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7UUFFbEJBLE1BQU1BLENBQUNBLE1BQU1BLENBQUNBO0lBQ2ZBLENBQUNBO0lBRU1OLCtDQUFvQkEsR0FBM0JBLFVBQTRCQSxZQUEwQkE7UUFFckRPLG9CQUFvQkE7SUFDckJBLENBQUNBO0lBRU1QLDJDQUFnQkEsR0FBdkJBLFVBQXdCQSxTQUFtQkE7UUFFMUNRLFNBQVNBLENBQUNBLDBCQUEwQkEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0E7SUFDNUNBLENBQUNBO0lBRU1SLDZDQUFrQkEsR0FBekJBLFVBQTBCQSxTQUFtQkE7UUFFNUNTLFNBQVNBLENBQUNBLDRCQUE0QkEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0E7SUFDOUNBLENBQUNBO0lBR0RUOzs7O09BSUdBO0lBQ0lBLDRDQUFpQkEsR0FBeEJBO1FBRUNVLGdCQUFLQSxDQUFDQSxpQkFBaUJBLFdBQUVBLENBQUNBO1FBRTFCQSxBQUNBQSxlQURlQTtZQUNYQSxJQUFJQSxHQUFVQSxJQUFJQSxDQUFDQSxXQUFXQSxDQUFDQSxDQUFDQSxDQUFDQTtRQUNyQ0EsSUFBSUEsSUFBSUEsR0FBVUEsSUFBSUEsQ0FBQ0EsV0FBV0EsQ0FBQ0EsQ0FBQ0EsR0FBR0EsSUFBSUEsQ0FBQ0EsV0FBV0EsQ0FBQ0EsTUFBTUEsQ0FBQ0E7UUFDL0RBLElBQUlBLElBQUlBLEdBQVVBLElBQUlBLENBQUNBLFdBQVdBLENBQUNBLENBQUNBLENBQUNBO1FBQ3JDQSxJQUFJQSxJQUFJQSxHQUFVQSxJQUFJQSxDQUFDQSxXQUFXQSxDQUFDQSxDQUFDQSxHQUFHQSxJQUFJQSxDQUFDQSxXQUFXQSxDQUFDQSxLQUFLQSxDQUFDQTtRQUM5REEsSUFBSUEsSUFBSUEsR0FBVUEsSUFBSUEsQ0FBQ0EsV0FBV0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7UUFDckNBLElBQUlBLElBQUlBLEdBQVVBLElBQUlBLENBQUNBLFdBQVdBLENBQUNBLENBQUNBLEdBQUdBLElBQUlBLENBQUNBLFdBQVdBLENBQUNBLEtBQUtBLENBQUNBO1FBRTlEQSxJQUFJQSxDQUFDQSxZQUFZQSxDQUFDQSxDQUFDQSxDQUFDQSxHQUFHQSxJQUFJQSxDQUFDQTtRQUM1QkEsSUFBSUEsQ0FBQ0EsWUFBWUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsR0FBR0EsSUFBSUEsQ0FBQ0E7UUFDNUJBLElBQUlBLENBQUNBLFlBQVlBLENBQUNBLENBQUNBLENBQUNBLEdBQUdBLElBQUlBLENBQUNBO1FBQzVCQSxJQUFJQSxDQUFDQSxZQUFZQSxDQUFDQSxDQUFDQSxDQUFDQSxHQUFHQSxJQUFJQSxDQUFDQTtRQUM1QkEsSUFBSUEsQ0FBQ0EsWUFBWUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsR0FBR0EsSUFBSUEsQ0FBQ0E7UUFDNUJBLElBQUlBLENBQUNBLFlBQVlBLENBQUNBLENBQUNBLENBQUNBLEdBQUdBLElBQUlBLENBQUNBO1FBQzVCQSxJQUFJQSxDQUFDQSxZQUFZQSxDQUFDQSxDQUFDQSxDQUFDQSxHQUFHQSxJQUFJQSxDQUFDQTtRQUM1QkEsSUFBSUEsQ0FBQ0EsWUFBWUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsR0FBR0EsSUFBSUEsQ0FBQ0E7UUFDNUJBLElBQUlBLENBQUNBLFlBQVlBLENBQUNBLENBQUNBLENBQUNBLEdBQUdBLElBQUlBLENBQUNBO1FBQzVCQSxJQUFJQSxDQUFDQSxZQUFZQSxDQUFDQSxDQUFDQSxDQUFDQSxHQUFHQSxJQUFJQSxDQUFDQTtRQUM1QkEsSUFBSUEsQ0FBQ0EsWUFBWUEsQ0FBQ0EsRUFBRUEsQ0FBQ0EsR0FBR0EsSUFBSUEsQ0FBQ0E7UUFDN0JBLElBQUlBLENBQUNBLFlBQVlBLENBQUNBLEVBQUVBLENBQUNBLEdBQUdBLElBQUlBLENBQUNBO1FBQzdCQSxJQUFJQSxDQUFDQSxZQUFZQSxDQUFDQSxFQUFFQSxDQUFDQSxHQUFHQSxJQUFJQSxDQUFDQTtRQUM3QkEsSUFBSUEsQ0FBQ0EsWUFBWUEsQ0FBQ0EsRUFBRUEsQ0FBQ0EsR0FBR0EsSUFBSUEsQ0FBQ0E7UUFDN0JBLElBQUlBLENBQUNBLFlBQVlBLENBQUNBLEVBQUVBLENBQUNBLEdBQUdBLElBQUlBLENBQUNBO1FBQzdCQSxJQUFJQSxDQUFDQSxZQUFZQSxDQUFDQSxFQUFFQSxDQUFDQSxHQUFHQSxJQUFJQSxDQUFDQTtRQUM3QkEsSUFBSUEsQ0FBQ0EsWUFBWUEsQ0FBQ0EsRUFBRUEsQ0FBQ0EsR0FBR0EsSUFBSUEsQ0FBQ0E7UUFDN0JBLElBQUlBLENBQUNBLFlBQVlBLENBQUNBLEVBQUVBLENBQUNBLEdBQUdBLElBQUlBLENBQUNBO1FBQzdCQSxJQUFJQSxDQUFDQSxZQUFZQSxDQUFDQSxFQUFFQSxDQUFDQSxHQUFHQSxJQUFJQSxDQUFDQTtRQUM3QkEsSUFBSUEsQ0FBQ0EsWUFBWUEsQ0FBQ0EsRUFBRUEsQ0FBQ0EsR0FBR0EsSUFBSUEsQ0FBQ0E7UUFDN0JBLElBQUlBLENBQUNBLFlBQVlBLENBQUNBLEVBQUVBLENBQUNBLEdBQUdBLElBQUlBLENBQUNBO1FBQzdCQSxJQUFJQSxDQUFDQSxZQUFZQSxDQUFDQSxFQUFFQSxDQUFDQSxHQUFHQSxJQUFJQSxDQUFDQTtRQUM3QkEsSUFBSUEsQ0FBQ0EsWUFBWUEsQ0FBQ0EsRUFBRUEsQ0FBQ0EsR0FBR0EsSUFBSUEsQ0FBQ0E7UUFDN0JBLElBQUlBLENBQUNBLFlBQVlBLENBQUNBLEVBQUVBLENBQUNBLEdBQUdBLElBQUlBLENBQUNBO0lBQzlCQSxDQUFDQTtJQUNGVix1QkFBQ0E7QUFBREEsQ0ExTEEsQUEwTENBLEVBMUw4QixTQUFTLEVBMEx2QztBQUVELEFBQTBCLGlCQUFqQixnQkFBZ0IsQ0FBQyIsImZpbGUiOiJlbnRpdGllcy9EaXJlY3Rpb25hbExpZ2h0LmpzIiwic291cmNlUm9vdCI6Ii4uLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBNYXRyaXgzRFx0XHRcdFx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1jb3JlL2xpYi9nZW9tL01hdHJpeDNEXCIpO1xyXG5pbXBvcnQgVmVjdG9yM0RcdFx0XHRcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtY29yZS9saWIvZ2VvbS9WZWN0b3IzRFwiKTtcclxuXHJcbmltcG9ydCBMaWdodEJhc2VcdFx0XHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLWRpc3BsYXkvbGliL2Jhc2UvTGlnaHRCYXNlXCIpO1xyXG5pbXBvcnQgQm91bmRzVHlwZVx0XHRcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtZGlzcGxheS9saWIvYm91bmRzL0JvdW5kc1R5cGVcIik7XHJcbmltcG9ydCBQYXJ0aXRpb25cdFx0XHRcdFx0PSByZXF1aXJlKFwiYXdheWpzLWRpc3BsYXkvbGliL3BhcnRpdGlvbi9QYXJ0aXRpb25cIik7XHJcbmltcG9ydCBEaXJlY3Rpb25hbExpZ2h0Tm9kZVx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1kaXNwbGF5L2xpYi9wYXJ0aXRpb24vRGlyZWN0aW9uYWxMaWdodE5vZGVcIik7XHJcbmltcG9ydCBFbnRpdHlOb2RlXHRcdFx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1kaXNwbGF5L2xpYi9wYXJ0aXRpb24vRW50aXR5Tm9kZVwiKTtcclxuaW1wb3J0IElSZW5kZXJlclBvb2xcdFx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1kaXNwbGF5L2xpYi9wb29sL0lSZW5kZXJlclBvb2xcIik7XHJcbmltcG9ydCBDYW1lcmFcdFx0XHRcdFx0XHQ9IHJlcXVpcmUoXCJhd2F5anMtZGlzcGxheS9saWIvZW50aXRpZXMvQ2FtZXJhXCIpO1xyXG5pbXBvcnQgSUVudGl0eVx0XHRcdFx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1kaXNwbGF5L2xpYi9lbnRpdGllcy9JRW50aXR5XCIpO1xyXG5pbXBvcnQgRGlyZWN0aW9uYWxTaGFkb3dNYXBwZXJcdFx0PSByZXF1aXJlKFwiYXdheWpzLWRpc3BsYXkvbGliL21hdGVyaWFscy9zaGFkb3dtYXBwZXJzL0RpcmVjdGlvbmFsU2hhZG93TWFwcGVyXCIpO1xyXG5cclxuY2xhc3MgRGlyZWN0aW9uYWxMaWdodCBleHRlbmRzIExpZ2h0QmFzZSBpbXBsZW1lbnRzIElFbnRpdHlcclxue1xyXG5cdHByaXZhdGUgX2RpcmVjdGlvbjpWZWN0b3IzRDtcclxuXHRwcml2YXRlIF90bXBMb29rQXQ6VmVjdG9yM0Q7XHJcblx0cHJpdmF0ZSBfc2NlbmVEaXJlY3Rpb246VmVjdG9yM0Q7XHJcblx0cHJpdmF0ZSBfcEFhYmJQb2ludHM6QXJyYXk8bnVtYmVyPiA9IG5ldyBBcnJheTxudW1iZXI+KDI0KTtcclxuXHRwcml2YXRlIF9wcm9qQUFCQlBvaW50czpBcnJheTxudW1iZXI+O1xyXG5cclxuXHRjb25zdHJ1Y3Rvcih4RGlyOm51bWJlciA9IDAsIHlEaXI6bnVtYmVyID0gLTEsIHpEaXI6bnVtYmVyID0gMSlcclxuXHR7XHJcblx0XHRzdXBlcigpO1xyXG5cclxuXHRcdHRoaXMuX3BJc0VudGl0eSA9IHRydWU7XHJcblxyXG5cdFx0dGhpcy5kaXJlY3Rpb24gPSBuZXcgVmVjdG9yM0QoeERpciwgeURpciwgekRpcik7XHJcblxyXG5cdFx0dGhpcy5fc2NlbmVEaXJlY3Rpb24gPSBuZXcgVmVjdG9yM0QoKTtcclxuXHJcblx0XHQvL2RlZmF1bHQgYm91bmRzIHR5cGVcclxuXHRcdHRoaXMuX2JvdW5kc1R5cGUgPSBCb3VuZHNUeXBlLk5VTEw7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZ2V0IHNjZW5lRGlyZWN0aW9uKCk6VmVjdG9yM0RcclxuXHR7XHJcblx0XHRpZiAodGhpcy5fcFNjZW5lVHJhbnNmb3JtRGlydHkpXHJcblx0XHRcdHRoaXMucFVwZGF0ZVNjZW5lVHJhbnNmb3JtKCk7XHJcblxyXG5cdFx0cmV0dXJuIHRoaXMuX3NjZW5lRGlyZWN0aW9uO1xyXG5cdH1cclxuXHJcblx0cHVibGljIGdldCBkaXJlY3Rpb24oKTpWZWN0b3IzRFxyXG5cdHtcclxuXHRcdHJldHVybiB0aGlzLl9kaXJlY3Rpb247XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgc2V0IGRpcmVjdGlvbih2YWx1ZTpWZWN0b3IzRClcclxuXHR7XHJcblx0XHR0aGlzLl9kaXJlY3Rpb24gPSB2YWx1ZTtcclxuXHJcblx0XHRpZiAoIXRoaXMuX3RtcExvb2tBdClcclxuXHRcdFx0dGhpcy5fdG1wTG9va0F0ID0gbmV3IFZlY3RvcjNEKCk7XHJcblxyXG5cdFx0dGhpcy5fdG1wTG9va0F0LnggPSB0aGlzLnggKyB0aGlzLl9kaXJlY3Rpb24ueDtcclxuXHRcdHRoaXMuX3RtcExvb2tBdC55ID0gdGhpcy55ICsgdGhpcy5fZGlyZWN0aW9uLnk7XHJcblx0XHR0aGlzLl90bXBMb29rQXQueiA9IHRoaXMueiArIHRoaXMuX2RpcmVjdGlvbi56O1xyXG5cclxuXHRcdHRoaXMubG9va0F0KHRoaXMuX3RtcExvb2tBdCk7XHJcblx0fVxyXG5cclxuXHQvL0BvdmVycmlkZVxyXG5cdHB1YmxpYyBwVXBkYXRlU2NlbmVUcmFuc2Zvcm0oKVxyXG5cdHtcclxuXHRcdHN1cGVyLnBVcGRhdGVTY2VuZVRyYW5zZm9ybSgpO1xyXG5cdFx0dGhpcy5zY2VuZVRyYW5zZm9ybS5jb3B5Q29sdW1uVG8oMiwgdGhpcy5fc2NlbmVEaXJlY3Rpb24pO1xyXG5cdFx0dGhpcy5fc2NlbmVEaXJlY3Rpb24ubm9ybWFsaXplKCk7XHJcblx0fVxyXG5cclxuXHQvL0BvdmVycmlkZVxyXG5cdHB1YmxpYyBwQ3JlYXRlU2hhZG93TWFwcGVyKCk6RGlyZWN0aW9uYWxTaGFkb3dNYXBwZXJcclxuXHR7XHJcblx0XHRyZXR1cm4gbmV3IERpcmVjdGlvbmFsU2hhZG93TWFwcGVyKCk7XHJcblx0fVxyXG5cclxuXHQvL292ZXJyaWRlXHJcblx0cHVibGljIGlHZXRPYmplY3RQcm9qZWN0aW9uTWF0cml4KGVudGl0eTpJRW50aXR5LCBjYW1lcmE6Q2FtZXJhLCB0YXJnZXQ6TWF0cml4M0QgPSBudWxsKTpNYXRyaXgzRFxyXG5cdHtcclxuXHRcdHZhciByYXc6QXJyYXk8bnVtYmVyPiA9IG5ldyBBcnJheTxudW1iZXI+KCk7XHJcblx0XHR2YXIgbTpNYXRyaXgzRCA9IG5ldyBNYXRyaXgzRCgpO1xyXG5cclxuXHRcdG0uY29weUZyb20oZW50aXR5LmdldFJlbmRlclNjZW5lVHJhbnNmb3JtKGNhbWVyYSkpO1xyXG5cdFx0bS5hcHBlbmQodGhpcy5pbnZlcnNlU2NlbmVUcmFuc2Zvcm0pO1xyXG5cclxuXHRcdGlmICghdGhpcy5fcHJvakFBQkJQb2ludHMpXHJcblx0XHRcdHRoaXMuX3Byb2pBQUJCUG9pbnRzID0gW107XHJcblxyXG5cdFx0bS50cmFuc2Zvcm1WZWN0b3JzKHRoaXMuX3BBYWJiUG9pbnRzLCB0aGlzLl9wcm9qQUFCQlBvaW50cyk7XHJcblxyXG5cdFx0dmFyIHhNaW46bnVtYmVyID0gSW5maW5pdHksIHhNYXg6bnVtYmVyID0gLUluZmluaXR5O1xyXG5cdFx0dmFyIHlNaW46bnVtYmVyID0gSW5maW5pdHksIHlNYXg6bnVtYmVyID0gLUluZmluaXR5O1xyXG5cdFx0dmFyIHpNaW46bnVtYmVyID0gSW5maW5pdHksIHpNYXg6bnVtYmVyID0gLUluZmluaXR5O1xyXG5cdFx0dmFyIGQ6bnVtYmVyO1xyXG5cdFx0Zm9yICh2YXIgaTpudW1iZXIgPSAwOyBpIDwgMjQ7KSB7XHJcblx0XHRcdGQgPSB0aGlzLl9wcm9qQUFCQlBvaW50c1tpKytdO1xyXG5cclxuXHRcdFx0aWYgKGQgPCB4TWluKVxyXG5cdFx0XHRcdHhNaW4gPSBkO1xyXG5cclxuXHRcdFx0aWYgKGQgPiB4TWF4KVxyXG5cdFx0XHRcdHhNYXggPSBkO1xyXG5cclxuXHRcdFx0ZCA9IHRoaXMuX3Byb2pBQUJCUG9pbnRzW2krK107XHJcblxyXG5cdFx0XHRpZiAoZCA8IHlNaW4pXHJcblx0XHRcdFx0eU1pbiA9IGQ7XHJcblxyXG5cdFx0XHRpZiAoZCA+IHlNYXgpXHJcblx0XHRcdFx0eU1heCA9IGQ7XHJcblxyXG5cdFx0XHRkID0gdGhpcy5fcHJvakFBQkJQb2ludHNbaSsrXTtcclxuXHJcblx0XHRcdGlmIChkIDwgek1pbilcclxuXHRcdFx0XHR6TWluID0gZDtcclxuXHJcblx0XHRcdGlmIChkID4gek1heClcclxuXHRcdFx0XHR6TWF4ID0gZDtcclxuXHRcdH1cclxuXHJcblx0XHR2YXIgaW52WFJhbmdlOm51bWJlciA9IDEvKHhNYXggLSB4TWluKTtcclxuXHRcdHZhciBpbnZZUmFuZ2U6bnVtYmVyID0gMS8oeU1heCAtIHlNaW4pO1xyXG5cdFx0dmFyIGludlpSYW5nZTpudW1iZXIgPSAxLyh6TWF4IC0gek1pbik7XHJcblx0XHRyYXdbMF0gPSAyKmludlhSYW5nZTtcclxuXHRcdHJhd1s1XSA9IDIqaW52WVJhbmdlO1xyXG5cdFx0cmF3WzEwXSA9IGludlpSYW5nZTtcclxuXHRcdHJhd1sxMl0gPSAtKHhNYXggKyB4TWluKSppbnZYUmFuZ2U7XHJcblx0XHRyYXdbMTNdID0gLSh5TWF4ICsgeU1pbikqaW52WVJhbmdlO1xyXG5cdFx0cmF3WzE0XSA9IC16TWluKmludlpSYW5nZTtcclxuXHRcdHJhd1sxXSA9IHJhd1syXSA9IHJhd1szXSA9IHJhd1s0XSA9IHJhd1s2XSA9IHJhd1s3XSA9IHJhd1s4XSA9IHJhd1s5XSA9IHJhd1sxMV0gPSAwO1xyXG5cdFx0cmF3WzE1XSA9IDE7XHJcblxyXG5cdFx0aWYgKCF0YXJnZXQpXHJcblx0XHRcdHRhcmdldCA9IG5ldyBNYXRyaXgzRCgpO1xyXG5cclxuXHRcdHRhcmdldC5jb3B5UmF3RGF0YUZyb20ocmF3KTtcclxuXHRcdHRhcmdldC5wcmVwZW5kKG0pO1xyXG5cclxuXHRcdHJldHVybiB0YXJnZXQ7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgX2lDb2xsZWN0UmVuZGVyYWJsZXMocmVuZGVyZXJQb29sOklSZW5kZXJlclBvb2wpXHJcblx0e1xyXG5cdFx0Ly9ub3RoaW5nIHRvIGRvIGhlcmVcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBfcFJlZ2lzdGVyRW50aXR5KHBhcnRpdGlvbjpQYXJ0aXRpb24pXHJcblx0e1xyXG5cdFx0cGFydGl0aW9uLl9pUmVnaXN0ZXJEaXJlY3Rpb25hbExpZ2h0KHRoaXMpO1xyXG5cdH1cclxuXHJcblx0cHVibGljIF9wVW5yZWdpc3RlckVudGl0eShwYXJ0aXRpb246UGFydGl0aW9uKVxyXG5cdHtcclxuXHRcdHBhcnRpdGlvbi5faVVucmVnaXN0ZXJEaXJlY3Rpb25hbExpZ2h0KHRoaXMpO1xyXG5cdH1cclxuXHJcblxyXG5cdC8qKlxyXG5cdCAqIC8vVE9ET1xyXG5cdCAqXHJcblx0ICogQHByb3RlY3RlZFxyXG5cdCAqL1xyXG5cdHB1YmxpYyBfcFVwZGF0ZUJveEJvdW5kcygpXHJcblx0e1xyXG5cdFx0c3VwZXIuX3BVcGRhdGVCb3hCb3VuZHMoKTtcclxuXHJcblx0XHQvL3VwZGF0ZSBwb2ludHNcclxuXHRcdHZhciBtaW5YOm51bWJlciA9IHRoaXMuX3BCb3hCb3VuZHMueDtcclxuXHRcdHZhciBtaW5ZOm51bWJlciA9IHRoaXMuX3BCb3hCb3VuZHMueSAtIHRoaXMuX3BCb3hCb3VuZHMuaGVpZ2h0O1xyXG5cdFx0dmFyIG1pblo6bnVtYmVyID0gdGhpcy5fcEJveEJvdW5kcy56O1xyXG5cdFx0dmFyIG1heFg6bnVtYmVyID0gdGhpcy5fcEJveEJvdW5kcy54ICsgdGhpcy5fcEJveEJvdW5kcy53aWR0aDtcclxuXHRcdHZhciBtYXhZOm51bWJlciA9IHRoaXMuX3BCb3hCb3VuZHMueTtcclxuXHRcdHZhciBtYXhaOm51bWJlciA9IHRoaXMuX3BCb3hCb3VuZHMueiArIHRoaXMuX3BCb3hCb3VuZHMuZGVwdGg7XHJcblxyXG5cdFx0dGhpcy5fcEFhYmJQb2ludHNbMF0gPSBtaW5YO1xyXG5cdFx0dGhpcy5fcEFhYmJQb2ludHNbMV0gPSBtaW5ZO1xyXG5cdFx0dGhpcy5fcEFhYmJQb2ludHNbMl0gPSBtaW5aO1xyXG5cdFx0dGhpcy5fcEFhYmJQb2ludHNbM10gPSBtYXhYO1xyXG5cdFx0dGhpcy5fcEFhYmJQb2ludHNbNF0gPSBtaW5ZO1xyXG5cdFx0dGhpcy5fcEFhYmJQb2ludHNbNV0gPSBtaW5aO1xyXG5cdFx0dGhpcy5fcEFhYmJQb2ludHNbNl0gPSBtaW5YO1xyXG5cdFx0dGhpcy5fcEFhYmJQb2ludHNbN10gPSBtYXhZO1xyXG5cdFx0dGhpcy5fcEFhYmJQb2ludHNbOF0gPSBtaW5aO1xyXG5cdFx0dGhpcy5fcEFhYmJQb2ludHNbOV0gPSBtYXhYO1xyXG5cdFx0dGhpcy5fcEFhYmJQb2ludHNbMTBdID0gbWF4WTtcclxuXHRcdHRoaXMuX3BBYWJiUG9pbnRzWzExXSA9IG1pblo7XHJcblx0XHR0aGlzLl9wQWFiYlBvaW50c1sxMl0gPSBtaW5YO1xyXG5cdFx0dGhpcy5fcEFhYmJQb2ludHNbMTNdID0gbWluWTtcclxuXHRcdHRoaXMuX3BBYWJiUG9pbnRzWzE0XSA9IG1heFo7XHJcblx0XHR0aGlzLl9wQWFiYlBvaW50c1sxNV0gPSBtYXhYO1xyXG5cdFx0dGhpcy5fcEFhYmJQb2ludHNbMTZdID0gbWluWTtcclxuXHRcdHRoaXMuX3BBYWJiUG9pbnRzWzE3XSA9IG1heFo7XHJcblx0XHR0aGlzLl9wQWFiYlBvaW50c1sxOF0gPSBtaW5YO1xyXG5cdFx0dGhpcy5fcEFhYmJQb2ludHNbMTldID0gbWF4WTtcclxuXHRcdHRoaXMuX3BBYWJiUG9pbnRzWzIwXSA9IG1heFo7XHJcblx0XHR0aGlzLl9wQWFiYlBvaW50c1syMV0gPSBtYXhYO1xyXG5cdFx0dGhpcy5fcEFhYmJQb2ludHNbMjJdID0gbWF4WTtcclxuXHRcdHRoaXMuX3BBYWJiUG9pbnRzWzIzXSA9IG1heFo7XHJcblx0fVxyXG59XHJcblxyXG5leHBvcnQgPSBEaXJlY3Rpb25hbExpZ2h0OyJdfQ==