var AbstractMethodError = require("awayjs-core/lib/errors/AbstractMethodError");
var ControllerBase = (function () {
    function ControllerBase(targetObject) {
        if (targetObject === void 0) { targetObject = null; }
        this._pAutoUpdate = true;
        this.targetObject = targetObject;
    }
    ControllerBase.prototype.pNotifyUpdate = function () {
        if (this._pTargetObject && this._pAutoUpdate) {
            this._pTargetObject.invalidatePartition();
        }
    };
    Object.defineProperty(ControllerBase.prototype, "targetObject", {
        get: function () {
            return this._pTargetObject;
        },
        set: function (val) {
            if (this._pTargetObject == val) {
                return;
            }
            if (this._pTargetObject && this._pAutoUpdate) {
                this._pTargetObject._iController = null;
            }
            this._pTargetObject = val;
            if (this._pTargetObject && this._pAutoUpdate) {
                this._pTargetObject._iController = this;
            }
            this.pNotifyUpdate();
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ControllerBase.prototype, "autoUpdate", {
        get: function () {
            return this._pAutoUpdate;
        },
        set: function (val) {
            if (this._pAutoUpdate == val) {
                return;
            }
            this._pAutoUpdate = val;
            if (this._pTargetObject) {
                if (this._pTargetObject) {
                    this._pTargetObject._iController = this;
                }
                else {
                    this._pTargetObject._iController = null;
                }
            }
        },
        enumerable: true,
        configurable: true
    });
    ControllerBase.prototype.update = function (interpolate) {
        if (interpolate === void 0) { interpolate = true; }
        throw new AbstractMethodError();
    };
    return ControllerBase;
})();
module.exports = ControllerBase;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF3YXlqcy1kaXNwbGF5L2xpYi9jb250cm9sbGVycy9Db250cm9sbGVyQmFzZS50cyJdLCJuYW1lcyI6WyJDb250cm9sbGVyQmFzZSIsIkNvbnRyb2xsZXJCYXNlLmNvbnN0cnVjdG9yIiwiQ29udHJvbGxlckJhc2UucE5vdGlmeVVwZGF0ZSIsIkNvbnRyb2xsZXJCYXNlLnRhcmdldE9iamVjdCIsIkNvbnRyb2xsZXJCYXNlLmF1dG9VcGRhdGUiLCJDb250cm9sbGVyQmFzZS51cGRhdGUiXSwibWFwcGluZ3MiOiJBQUFBLElBQU8sbUJBQW1CLFdBQVksNENBQTRDLENBQUMsQ0FBQztBQUlwRixJQUFNLGNBQWM7SUFNbkJBLFNBTktBLGNBQWNBLENBTVBBLFlBQWlDQTtRQUFqQ0MsNEJBQWlDQSxHQUFqQ0EsbUJBQWlDQTtRQUh0Q0EsaUJBQVlBLEdBQVdBLElBQUlBLENBQUNBO1FBS2xDQSxJQUFJQSxDQUFDQSxZQUFZQSxHQUFHQSxZQUFZQSxDQUFDQTtJQUNsQ0EsQ0FBQ0E7SUFFTUQsc0NBQWFBLEdBQXBCQTtRQUVDRSxFQUFFQSxDQUFDQSxDQUFDQSxJQUFJQSxDQUFDQSxjQUFjQSxJQUFJQSxJQUFJQSxDQUFDQSxZQUFZQSxDQUFDQSxDQUFDQSxDQUFDQTtZQUM5Q0EsSUFBSUEsQ0FBQ0EsY0FBY0EsQ0FBQ0EsbUJBQW1CQSxFQUFFQSxDQUFDQTtRQUMzQ0EsQ0FBQ0E7SUFDRkEsQ0FBQ0E7SUFFREYsc0JBQVdBLHdDQUFZQTthQUF2QkE7WUFFQ0csTUFBTUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsY0FBY0EsQ0FBQ0E7UUFDNUJBLENBQUNBO2FBRURILFVBQXdCQSxHQUFpQkE7WUFFeENHLEVBQUVBLENBQUNBLENBQUNBLElBQUlBLENBQUNBLGNBQWNBLElBQUlBLEdBQUdBLENBQUNBLENBQUNBLENBQUNBO2dCQUNoQ0EsTUFBTUEsQ0FBQ0E7WUFDUkEsQ0FBQ0E7WUFFREEsRUFBRUEsQ0FBQ0EsQ0FBQ0EsSUFBSUEsQ0FBQ0EsY0FBY0EsSUFBSUEsSUFBSUEsQ0FBQ0EsWUFBWUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7Z0JBQzlDQSxJQUFJQSxDQUFDQSxjQUFjQSxDQUFDQSxZQUFZQSxHQUFHQSxJQUFJQSxDQUFDQTtZQUN6Q0EsQ0FBQ0E7WUFDREEsSUFBSUEsQ0FBQ0EsY0FBY0EsR0FBR0EsR0FBR0EsQ0FBQ0E7WUFFMUJBLEVBQUVBLENBQUNBLENBQUNBLElBQUlBLENBQUNBLGNBQWNBLElBQUlBLElBQUlBLENBQUNBLFlBQVlBLENBQUNBLENBQUNBLENBQUNBO2dCQUM5Q0EsSUFBSUEsQ0FBQ0EsY0FBY0EsQ0FBQ0EsWUFBWUEsR0FBR0EsSUFBSUEsQ0FBQ0E7WUFDekNBLENBQUNBO1lBQ0RBLElBQUlBLENBQUNBLGFBQWFBLEVBQUVBLENBQUNBO1FBQ3RCQSxDQUFDQTs7O09BakJBSDtJQW1CREEsc0JBQVdBLHNDQUFVQTthQUFyQkE7WUFFQ0ksTUFBTUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsWUFBWUEsQ0FBQ0E7UUFDMUJBLENBQUNBO2FBRURKLFVBQXNCQSxHQUFXQTtZQUVoQ0ksRUFBRUEsQ0FBQ0EsQ0FBQ0EsSUFBSUEsQ0FBQ0EsWUFBWUEsSUFBSUEsR0FBR0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7Z0JBQzlCQSxNQUFNQSxDQUFDQTtZQUNSQSxDQUFDQTtZQUNEQSxJQUFJQSxDQUFDQSxZQUFZQSxHQUFHQSxHQUFHQSxDQUFDQTtZQUV4QkEsRUFBRUEsQ0FBQ0EsQ0FBQ0EsSUFBSUEsQ0FBQ0EsY0FBY0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7Z0JBQ3pCQSxFQUFFQSxDQUFDQSxDQUFDQSxJQUFJQSxDQUFDQSxjQUFjQSxDQUFDQSxDQUFDQSxDQUFDQTtvQkFDekJBLElBQUlBLENBQUNBLGNBQWNBLENBQUNBLFlBQVlBLEdBQUdBLElBQUlBLENBQUNBO2dCQUN6Q0EsQ0FBQ0E7Z0JBQUNBLElBQUlBLENBQUNBLENBQUNBO29CQUNQQSxJQUFJQSxDQUFDQSxjQUFjQSxDQUFDQSxZQUFZQSxHQUFHQSxJQUFJQSxDQUFDQTtnQkFDekNBLENBQUNBO1lBQ0ZBLENBQUNBO1FBQ0ZBLENBQUNBOzs7T0FoQkFKO0lBa0JNQSwrQkFBTUEsR0FBYkEsVUFBY0EsV0FBMEJBO1FBQTFCSywyQkFBMEJBLEdBQTFCQSxrQkFBMEJBO1FBRXZDQSxNQUFNQSxJQUFJQSxtQkFBbUJBLEVBQUVBLENBQUNBO0lBQ2pDQSxDQUFDQTtJQUNGTCxxQkFBQ0E7QUFBREEsQ0FqRUEsQUFpRUNBLElBQUE7QUFFRCxBQUF3QixpQkFBZixjQUFjLENBQUMiLCJmaWxlIjoiY29udHJvbGxlcnMvQ29udHJvbGxlckJhc2UuanMiLCJzb3VyY2VSb290IjoiLi4vIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEFic3RyYWN0TWV0aG9kRXJyb3JcdFx0PSByZXF1aXJlKFwiYXdheWpzLWNvcmUvbGliL2Vycm9ycy9BYnN0cmFjdE1ldGhvZEVycm9yXCIpO1xuXG5pbXBvcnQgRGlzcGxheU9iamVjdFx0XHRcdD0gcmVxdWlyZShcImF3YXlqcy1kaXNwbGF5L2xpYi9iYXNlL0Rpc3BsYXlPYmplY3RcIik7XG5cbmNsYXNzIENvbnRyb2xsZXJCYXNlXG57XG5cblx0cHVibGljIF9wQXV0b1VwZGF0ZTpib29sZWFuID0gdHJ1ZTtcblx0cHVibGljIF9wVGFyZ2V0T2JqZWN0OkRpc3BsYXlPYmplY3Q7XG5cblx0Y29uc3RydWN0b3IodGFyZ2V0T2JqZWN0OkRpc3BsYXlPYmplY3QgPSBudWxsKVxuXHR7XG5cdFx0dGhpcy50YXJnZXRPYmplY3QgPSB0YXJnZXRPYmplY3Q7XG5cdH1cblxuXHRwdWJsaWMgcE5vdGlmeVVwZGF0ZSgpXG5cdHtcblx0XHRpZiAodGhpcy5fcFRhcmdldE9iamVjdCAmJiB0aGlzLl9wQXV0b1VwZGF0ZSkge1xuXHRcdFx0dGhpcy5fcFRhcmdldE9iamVjdC5pbnZhbGlkYXRlUGFydGl0aW9uKCk7XG5cdFx0fVxuXHR9XG5cblx0cHVibGljIGdldCB0YXJnZXRPYmplY3QoKTpEaXNwbGF5T2JqZWN0XG5cdHtcblx0XHRyZXR1cm4gdGhpcy5fcFRhcmdldE9iamVjdDtcblx0fVxuXG5cdHB1YmxpYyBzZXQgdGFyZ2V0T2JqZWN0KHZhbDpEaXNwbGF5T2JqZWN0KVxuXHR7XG5cdFx0aWYgKHRoaXMuX3BUYXJnZXRPYmplY3QgPT0gdmFsKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0aWYgKHRoaXMuX3BUYXJnZXRPYmplY3QgJiYgdGhpcy5fcEF1dG9VcGRhdGUpIHtcblx0XHRcdHRoaXMuX3BUYXJnZXRPYmplY3QuX2lDb250cm9sbGVyID0gbnVsbDtcblx0XHR9XG5cdFx0dGhpcy5fcFRhcmdldE9iamVjdCA9IHZhbDtcblxuXHRcdGlmICh0aGlzLl9wVGFyZ2V0T2JqZWN0ICYmIHRoaXMuX3BBdXRvVXBkYXRlKSB7XG5cdFx0XHR0aGlzLl9wVGFyZ2V0T2JqZWN0Ll9pQ29udHJvbGxlciA9IHRoaXM7XG5cdFx0fVxuXHRcdHRoaXMucE5vdGlmeVVwZGF0ZSgpO1xuXHR9XG5cblx0cHVibGljIGdldCBhdXRvVXBkYXRlKCk6Ym9vbGVhblxuXHR7XG5cdFx0cmV0dXJuIHRoaXMuX3BBdXRvVXBkYXRlO1xuXHR9XG5cblx0cHVibGljIHNldCBhdXRvVXBkYXRlKHZhbDpib29sZWFuKVxuXHR7XG5cdFx0aWYgKHRoaXMuX3BBdXRvVXBkYXRlID09IHZhbCkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHR0aGlzLl9wQXV0b1VwZGF0ZSA9IHZhbDtcblxuXHRcdGlmICh0aGlzLl9wVGFyZ2V0T2JqZWN0KSB7XG5cdFx0XHRpZiAodGhpcy5fcFRhcmdldE9iamVjdCkge1xuXHRcdFx0XHR0aGlzLl9wVGFyZ2V0T2JqZWN0Ll9pQ29udHJvbGxlciA9IHRoaXM7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR0aGlzLl9wVGFyZ2V0T2JqZWN0Ll9pQ29udHJvbGxlciA9IG51bGw7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0cHVibGljIHVwZGF0ZShpbnRlcnBvbGF0ZTpib29sZWFuID0gdHJ1ZSlcblx0e1xuXHRcdHRocm93IG5ldyBBYnN0cmFjdE1ldGhvZEVycm9yKCk7XG5cdH1cbn1cblxuZXhwb3J0ID0gQ29udHJvbGxlckJhc2U7Il19